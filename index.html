<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1; user-scalable=0;"/> <!-- Mobile Fix -->
    <meta property="og:image" content="http://agar.io/img/1200x630.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:type" content="website"/>
    <title>OgarUnlimited.io</title>
    <link id="fav" rel="icon" type="image/png" href="ogaru.png"/>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu:700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0-rc.2/themes/smoothness/jquery-ui.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script   src="https://code.jquery.com/ui/1.12.0-rc.2/jquery-ui.min.js"   integrity="sha256-55Jz3pBCF8z9jBO1qQ7cIf0L+neuPTD1u7Ytzrp2dqo="   crossorigin="anonymous"></script>
    <script src="Vector2.js"></script>
    <script src="main_out.js?22550"></script>
    <script>
    	$(document).ready(function() {
    	    function getConnection() {
    	        var connectionfail = false;
    	        var request = prompt("Enter server address:port (if ws doesnt work, use wss)", "ws://127.0.0.1:443");
    	        if (request != null) {
    	            connect(request, true);
    	        }
    	    }
    	    var $_GET = {};
    	    document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g, function() {function decode(s) {return decodeURIComponent(s.split("+").join(" "));}$_GET[decode(arguments[1])] = decode(arguments[2]);});
    	    var method;
    	    if ($_GET["ip"]) {
    	        if ($_GET["method"]) {
    	            method = $_GET["method"];
    	        } else {
    	            method = "ws";
    	        }
    	        connect(method + "://" + $_GET["ip"], true);
    	    } else {
    	        getConnection();
    	    }
    	});
    </script>
    <style>
      body {
          padding: 0;
          margin: 0;
          overflow: hidden;
      }
      #canvas {
          position: absolute;
          left: 0;
          right: 0;
          top: 0;
          bottom: 0;
          width: 100%;
          height: 100%;
      }
      .checkbox label {
          margin-right: 10px;
      }
      form {
          margin-bottom: 0px;
      }
      .btn-play,
      .btn-settings,
      .btn-spectate {
          display: block;
          height: 35px;
      }
      .btn-play {
          width: 85%;
          float: left;
      }
      .btn-settings {
          width: 13%;
          float: right;
      }
      .btn-spectate {
          display: block;
          float: right;
      }
      #adsBottom {
          position: absolute;
          left: 0;
          right: 0;
          bottom: 0;
      }
      #adsBottomInner {
          margin: 0px auto;
          width: 728px;
          height: 90px;
          border: 5px solid white;
          border-radius: 5px 5px 0px 0px;
          background-color: #FFFFFF;
          box-sizing: content-box;
      }
      .region-message {
          display: none;
          margin-bottom: 12px;
          margin-left: 6px;
          margin-right: 6px;
          text-align: center;
      }
      #nick,
      #locationKnown #region {
          width: 65%;
          float: left;
      }
      #locationUnknown #region {
          margin-bottom: 15px;
      }
      #gamemode,
      #spectateBtn {
          width: 33%;
          float: right;
      }
      #helloDialog {
          width: 350px;
          background-color: #FFFFFF;
          margin: 10px auto;
          border-radius: 15px;
          padding: 5px 15px 5px 15px;
          position: absolute;
          top: 50%;
          left: 50%;
          margin-right: -50%;
          -webkit-transform: translate(-50%, -50%);
          -ms-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
      }
      #chat_textbox {
          -webkit-transition: all .5s ease-in-out;
          -moz-transition: all .5s ease-in-out;
          -o-transition: all .5s ease-in-out;
          transition: all .5s ease-in-out;
          position: absolute;
          z-index: 1;
          bottom: 10px;
          background: rgba(0, 0, 0, .2);
          border: 0px;
          outline: none;
          color: #FFF;
          height: 30px;
          text-indent: 12px;
          left: 10px;
          width: 300px;
      }
      #chat_textbox:focus {
          background: rgba(0, 0, 0, .5);
      }
      #a300x250 {
          width: 300px;
          height: 250px;
          background-repeat: no-repeat;
          background-size: contain;
          background-position: center center;
      }
      .ui-dialog {
        background-color: #141414;
        background-image: url(http://agariohub.tk/assets/img/texture.png);
          overflow: hidden;
          z-index: 100000;
      }
      .ui-widget-overlay {
          overflow: hidden;
          z-index: 1000000;
      }
      .skinclick {
        cursor: pointer;
        padding: 2px;
        position: relative;
        right: -12px;
          border-radius: 50%;
          -webkit-transition: all 0.5s ease;
          /* Safari and Chrome */
          
          -moz-transition: all 0.5s ease;
          /* Firefox */
          
          -ms-transition: all 0.5s ease;
          /* IE 9 */
          
          -o-transition: all 0.5s ease;
          /* Opera */
          
          transition: all 0.5s ease;
        border: 1px solid orange;
      }
      .skinclick:hover {
        border: 1px solid white;
        z-index: 99999999999999;
          -webkit-transform: scale(2.25);
          /* Safari and Chrome */
          
          -moz-transform: scale(2.25);
          /* Firefox */
          
          -ms-transform: scale(2.25);
          /* IE 9 */
          
          -o-transform: scale(2.25);
          /* Opera */
          
          transform: scale(2.25);
      }
  </style>
  </head>
  <body>
      <div id="fb-root"></div>
      <div id="overlays" style="display:none; position: absolute; left: 0; right: 0; top: 0; bottom: 0; background-color: rgba(0,0,0,0.5); z-index: 200;">
          <div id="helloDialog">
              <form role="form">
                  <div class="form-group">
                      <div style="float: left; margin-left: 20px;">
                          <h2 id="titleh">OgarUnlimited.io</h2>
                      </div>
                      <div class="fb-like" data-action="like" data-href="https://www.facebook.com/playagar.io" data-layout="button" data-share="true" data-show-faces="true" style=
                      "float: right; margin-top: 30px;"></div><br clear="both">
                      <div style="margin-left: 55px">
                          <a href="https://github.com/AJS-development/Ogar-unlimited">Ogar Unlimited - Github</a>
                      </div>
                  </div>
                  <div class="form-group">
                      <input class="form-control" id="nick" maxlength="15" placeholder="Nick"> <select class="form-control" id="gamemode" onchange="setGameMode($(this).val());">
                          <option selected value="">
                              FFA
                          </option>
                          <option value=":teams">
                              Teams
                          </option>
                          <option value=":experimental">
                              Experimental
                          </option>
                      </select><br clear="both">
                  </div>
                  <div id="locationUnknown" style="display:none;">
                      <select class="form-control" id="region" onchange="setRegion($('#region').val());">
                          <option disabled selected value="">
                              -- Select a Region --
                          </option>
                          <option value="US-Fremont">
                              US West
                          </option>
                          <option value="US-Atlanta">
                              US East
                          </option>
                          <option value="BR-Brazil">
                              South America
                          </option>
                          <option value="EU-London">
                              Europe
                          </option>
                          <option value="RU-Russia">
                              Russia
                          </option>
                          <option value="TK-Turkey">
                              Turkey
                          </option>
                          <option value="JP-Tokyo">
                              East Asia
                          </option>
                          <option value="CN-China">
                              China
                          </option>
                          <option value="SG-Singapore">
                              Oceania
                          </option>
                      </select>
                  </div>
                  <div>
                      <div class="text-muted region-message CN-China"></div>
                  </div>
                  <div class="form-group">
                      <div>
                          <p></p>
                      </div><button class="btn btn-play btn-primary btn-needs-server" id="playBtn" onclick="setNick(document.getElementById('nick').value); return false;" type="submit">Play</button>
                      <button class="btn btn-info btn-settings" onclick="$('#settings, #instructions').toggle();return false;"><i class="glyphicon glyphicon-cog"></i></button><br clear="both">
                  </div>
                  <div id="cantc" style="display:none;">
                      <h4>Cannot connect to server, click the reconnect button below to try again</h4><br>
                  </div>
                  <div class="checkbox" id="settings" style="display:none;">
                      <div class="form-group" id="mainform">
                          <div id="locationKnown"></div><button class="btn btn-warning btn-spectate btn-needs-server" id="spectateBtn" onclick="spectate(); return false;">Spectate</button><br clear=
                          "both">
                      </div>
                      <div style="margin: 6px;">
                          <label><input id="cskin" onchange="setSkins(!$(this).is(':checked'));" type="checkbox"> No skins</label> <label><input id="cname" onchange="setNames(!$(this).is(':checked'));"
                          type="checkbox"> No names</label> <label><input id="cdark" onchange="setDarkTheme($(this).is(':checked'));" type="checkbox"> Dark Theme</label> <label><input id="ccolor"
                          onchange="setColors($(this).is(':checked'));" type="checkbox"> No colors</label> <label><input id="cmass" onchange="setShowMass($(this).is(':checked'));" type="checkbox"> Show
                          mass</label> <label><input id="cchat" onchange="setHideChat($(this).is(':checked'));" type="checkbox"> Hide chat</label> <label><input id="csmooth" onchange=
                          "setSmooth($(this).is(':checked'));" type="checkbox"> Smooth Render</label> <label><input id="cacid" onchange="setAcid($(this).is(':checked'));" type="checkbox"> Acid
                          mode</label> <label><input id="cgrid" onchange="setHideGrid($(this).is(':checked'));" type="checkbox">Hide Grid</label> <label><button onclick=
                          "getConnection()"><label>Reconnect</label></button></label>
                      </div>
                  </div>
              </form>
              <div id="instructions">
                  <hr>
                  <p id="customins">Control your cell using the mouse, w for eject, space for split. Add &lt;skinname&gt; in your username for skins. <a class="skinlist" href="#">Want skin
                  list?</a></p>
              </div>
              <hr>
              <div id="customht"></div>
              <center>
                  <center>
                      <span class="text-muted"></span>
                  </center>
                  <div></div><small class="text-muted text-center"></small>
              </center>
              <hr style="margin-bottom: 7px;">
              <div style="margin-bottom: 5px; line-height: 32px; margin-left: 6px; height: 32px;">
                  <center></center>
              </div>
          </div>
      </div>
      <div id="connecting" style="display:none;position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 100; background-color: rgba(0,0,0,0.5);">
          <div style="width: 350px; background-color: #FFFFFF; margin: 100px auto; border-radius: 15px; padding: 5px 15px 5px 15px;">
              <h2>Connecting</h2>
              <p>If you cannot connect to the servers, check if you have some anti virus or firewall blocking the connection.</p>
          </div>
      </div>
      <canvas height="600" id="canvas" width="800"></canvas>
      <form>
          <input id="chat_textbox" maxlength="200" placeholder="Press Enter to chat!" type="text">
      </form>
      <div style="font-family:'Ubuntu'">
          &nbsp;
      </div>
      <div id="skins" style="display: none" title="Skins List (Click Your Skin)"></div>
  </body>
  <script type="text/javascript">
    $(document).ready(function() {
        $(".skinlist").click(function(e) {
            e.preventDefault(); // prevent event
            e.stopPropagation(); // prevent event
            $("#skins").dialog(); // show dialog
        });
        $("#skins").on("click", ".skinclick", function() {
            $("#nick").val("<" + $(this).attr("title") + ">");
            $("#skins").dialog('close');
        });
        $.ajax({
            url: "http://ogarul.io/skins/",
            type: "GET", // NEEDED!.
            success: function(data) {
                $(data).find("a:contains(.png)").each(function() {
                    var filename = this.href.replace(window.location.host, "").replace("http://", "");
                    var skinname = filename.replace(".png", "").replace("/", "");
                    $("#skins").append("<img draggable='false' oncontextmenu='return false;' class='skinclick' title='" + skinname + "' style='width: 30px; height: 30px;' src='http://ogarul.io/skins/" + filename + "'>");
                });
            }
        });
        $('input').keypress(function(e) {
            if (e.which == '13') {
                e.preventDefault();
                if (!isSpectating) setNick(document.getElementById('nick').value);
            }
        });
    });
  </script>
</html>

